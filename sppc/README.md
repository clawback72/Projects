# SIMPLE PRICE PERFORMANCE CALCULATOR (SPPC)
#### Video Demo: https://youtu.be/QtP4y78fxNk
#### Project Overview:
Simple Price Performance Calculator, or SPPC, is a quick and simple way to retrieve fundamental stock information, price data and performance metrics through an easy command line interface.  SPPC allows for a variety of arguments to specify securities, initial investment amount and performance period to customize your query.
##### Files Included:
- sppc.py - the python code for the SPPC
- test_project.py - pytest functions for sppc.py
- requirements.txt - list of pip installable modules required
- README.md - this document
#### Running the Program:
SPPC is run completely from the command line.  In addition to running the program using "python project.py", at least one argument for the ticker variable is required.  The ticker must be a valid security ticker recognized by Yahoo! finance (from where all data is scraped).
For example, "python sppc.py aapl" will return the information for Apple Inc.
With the provision of a valid ticker, SPCC will return formatted basic security information including ISIN, industry, long name, address, and website, in addition to financial information of trailing P/E ratio, close prices for begning and end dates, security growth percentage and present value for an initial investment of $1,000 by default.  To compare the security's performance to that of the general market, the same information is provided in a second column for the SPDR S&P 500 ETF Trust (SPY) by default.
##### Additional Arguments:
- -c - using this switch and specifying a valid ticker will tell SPCC to use this as the secondary security for comparison to our primary ticker - default is SPY
- -i - using this switch allows the user to specify the initial investment they would like to get the present value of - default is $1,000.00
- -d or -y - these switches are mutually exclusive and allow the user to specify the performance period in days(-d) or years (-y)
#### Program Functions:
- **main()** - The main function of the program starts by initializing default variables related to time, ticker and investment data.  Using the argparse module command line arguments are evaluted and relevant variables are adjusted.  Functions are then called to retrieve basic ticker and ISIN information for both securities and subsequently, both tickers are passed to a function that returns the opening and closing prices.  With price data in hand, final function calls are made to return the performance percentages and investment present values for each security.  Finally, all data is assembled in a list for printing, column widths are calculated, and data is printed to the console.
- **get_info(t)** - This function uses uses yfinances .info call to retrieve a large list of security releated information using the ticker(t).  This function also serves as a ticker check for the securities requested, as if no information is returned it indicates an invalid ticker.  If an invalid ticker is provided, the program will exit with a message specifying as much.  Once the ticker is confirmed and the data is recieved, a smaller dictionary of the data we want (symbol, longName, address1, city, state, zip, industry, website and trailingPE) is created.  This dictionary undergoes some slight modifications and is returned.
- **get_isin(t)** - This function uses yfinances .isin call to retireve the ISIN for the requested security using the ticker(t).  Some securities are not issued a valid ISIN (i.e. cryptocurrency) and in that case a value of "-" will be returned by the function and displayed by the programs output.
- **get_prices(t, strtd, edd, term)** - The largest and most complicated of the functions called takes value for the two tickers combined(t), start date (strtd), end date(edd) and total days of the inquiry(term).  The function starts by retrieving a dataframe using the yfinance .download function that contains all pricing data for both securities combined.  If the term of the request is greater than one year, the function will retrieve the pricing dadta on a monthly interval instead of a daily interval to reduce the size of the file required.  Because the dataframe orders the columns in alpabetical order, it will grab the ticker names from the column headers to keep price ownership straght.  The function then iterates over the closing price columns from the top down to find the first common start date, then from the bottom up to find the most recent common end date.  This is done to ensure the performance is calculated from the same start and end dates, as for a number of reasons (first listing date, security suspension, crypto weekend pricing) concurrent pricing may not exactly match the start or end dates requested.  If the requested start or end date does not have concurrent security pricing, a flag is raised to note this exception to the user when output is presented.  Once all of this information is known, a list of lists, one for each ticker, is returned.
- **clean_header(t)** - The ticker returned in the list provided by the get_prices() function can have some extraneous information.  This function cleans the value up and returns a "clean" ticker for the unpacking of the prices in main().
- **get_return(s_price, e_price)** - This function will return the price growth (return) given a start price(s_price) and an end price(e_price) in percentage form.
- **get_invest(ret, inv)** - This function will return the present value of the given investment (inv) for the calculated return(ret) provided.
